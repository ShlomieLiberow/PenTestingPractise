# coding=utf-8
import ftplib

chosen_file_type = ['.html', '.zip']


def anon_login(host):
    try:
        ftp = ftplib.FTP(host)
        ftp.login('anonymous', 'me@your.com')
        ftp.retrlines()
        print('\n[*] ' + str(host) + ' FTP Anonymous Log on Succeeded.')
        return ftp
    except Exception as e:
        print('\n[-] ' + str(host) + ' FTP Anonymous Log on Failed.')
        print(e)
        exit(1)


def search_dir(ftp):
    files_found_arr = []
    contents = ftp.nlst()
    if not contents:  # i.e since array is empty, it will be Boolean False, hence the check if it True
        print('[*] Nofin found, bra...')
        return
    for content in contents:
        for file in chosen_file_type:
            if file in content.lower():
                files_found_arr.append(content)
    print(files_found_arr)
    # if dirList.


def main():
    host = 'speedtest.tele2.net'
    # host = '192.168.140.128'
    search_dir(anon_login(host))


if __name__ == '__main__':
    main()
