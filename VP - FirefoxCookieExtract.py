import pprint
import sqlite3


def print_profile(skype_db):
    conn = sqlite3.connect(skype_db)
    db = conn.cursor()
    db.execute("SELECT baseDomain,value FROM moz_cookies;")
    dict_array = {}
    for row in db:
        # If key does not exist, it returns new entry key:[] which can then allow appending,
        # else it returns key:values... for appending.
        dict_array.setdefault(row[0], []).append(row[1])
    pprint.pprint(dict_array)


def main():
    skype_db = r"C:/Users/x/AppData/Roaming/Mozilla/Firefox/Profiles/xx.default/cookies.sqlite"
    print_profile(skype_db)


if __name__ == "__main__":
    main()
